{% extends 'base.html' %}

{% block title %}SeeImg{% endblock %}

{% block content %}
<body class="bg-gray-100 flex flex-col min-h-screen">
<!-- Navbar -->
<nav class="bg-blue-500 text-white px-4 py-3 flex justify-between items-center">
    <div class="text-lg font-semibold">SeeImg</div>
    <a href="{{ url_for('auth.login') }}" class="text-white">Login</a>
</nav>

<!-- Main Content -->
<div class="flex-grow flex flex-col items-center justify-center p-4">
    <div class="w-full max-w-2xl">
        <div class="flex mb-4">
            <button id="camera-tab" class="w-1/2 bg-blue-500 text-white py-2 px-4 rounded-t-lg">Kamera</button>
            <button id="upload-tab" class="w-1/2 bg-gray-300 py-2 px-4 rounded-t-lg">Unggah</button>
        </div>
        <div id="camera-container" class="flex flex-col items-center justify-center p-4 bg-white rounded-b-lg shadow-lg">
            <video id="camera" autoplay class="w-full rounded-lg shadow-lg mb-4"></video>
            <div class="flex space-x-4">
                <button id="capture-button" class="bg-blue-500 text-white px-4 py-2 rounded shadow">Ambil Foto</button>
                <button id="switch-camera" class="bg-gray-500 text-white px-4 py-2 rounded shadow">Ganti Kamera</button>
            </div>
        </div>
        <div id="upload-container" class="hidden flex flex-col items-center justify-center p-4 bg-white rounded-b-lg shadow-lg">
            <img id="file-preview" alt="Preview Gambar" class="w-full rounded-lg shadow-lg mb-4 hidden">
            <input type="file" id="file-input" accept=".jpg,.jpeg,.png,.webp" class="mb-4">
            <button id="upload-button" class="bg-blue-500 text-white px-4 py-2 rounded shadow">Unggah</button>
        </div>
        <div id="result-container" class="hidden flex flex-col items-center justify-center p-4 bg-white rounded-lg shadow-lg mt-4">
            <img id="captured-image" alt="Gambar yang Diambil" class="w-full rounded-lg shadow-lg mb-4">
            <p id="caption" class="text-lg font-semibold text-center mb-4"></p>
            <div class="flex space-x-4">
                <button id="replay-caption-button" class="bg-green-500 text-white px-4 py-2 rounded shadow">Putar Ulang</button>
                <button id="stop-caption-button" class="bg-gray-500 text-white px-4 py-2 rounded shadow">Hentikan Suara</button>
                <button id="close-button" class="bg-red-500 text-white px-4 py-2 rounded shadow">Tutup</button>
            </div>
        </div>
    </div>
    <div class="mt-8 text-center max-w-2xl">
        <p>Selamat datang di SeeImg! Sistem ini memungkinkan Anda untuk mengambil gambar menggunakan kamera perangkat Anda atau mengunggah gambar dari penyimpanan lokal Anda. Sistem kemudian akan menghasilkan deskripsi (caption) yang menggambarkan isi gambar. Aplikasi ini khusus untuk gambar objek wisata di Purbalingga, seperti Owabong, Purbasari, Sanggaluri, Goa Lawa, dan D'Las. Untuk menggunakan kamera, klik tab "Kamera" dan ikuti petunjuk. Untuk mengunggah gambar, klik tab "Unggah", pilih file gambar, dan klik tombol "Unggah".</p>
        <div id="sample-images" class="hidden mt-4">
            <p>Contoh Gambar:</p>
            <div class="flex justify-center space-x-4">
                <div class="text-center">
                    <img src="{{ url_for('static', filename='images/sample1.jpg') }}" alt="Sample 1" class="w-32 h-32 object-cover cursor-pointer">
                    <a href="{{ url_for('static', filename='images/sample1.jpg') }}" download class="block mt-2 text-blue-500">Unduh</a>
                </div>
                <div class="text-center">
                    <img src="{{ url_for('static', filename='images/sample2.jpg') }}" alt="Sample 2" class="w-32 h-32 object-cover cursor-pointer">
                    <a href="{{ url_for('static', filename='images/sample2.jpg') }}" download class="block mt-2 text-blue-500">Unduh</a>
                </div>
                <div class="text-center">
                    <img src="{{ url_for('static', filename='images/sample3.jpg') }}" alt="Sample 3" class="w-32 h-32 object-cover cursor-pointer" onclick="setSampleImage('/static/images/sample3.jpg')">
                    <a href="{{ url_for('static', filename='images/sample3.jpg') }}" download class="block mt-2 text-blue-500">Unduh</a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
    <script src="{{ url_for('static', filename='js/scripts_index.js') }}"></script>
{% endblock %}
